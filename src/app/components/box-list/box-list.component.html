<div>
  <mat-card>
    <mat-card-header>
      <div mat-card-avatar>
        <app-icon>{{ icon.room }}</app-icon>
      </div>
      <mat-card-title-group>
        <mat-card-title
          ><span>{{ room?.name }}</span></mat-card-title
        >
        @if (room?.description) {
        <mat-card-subtitle>{{ room?.description }}</mat-card-subtitle>
        }
      </mat-card-title-group>

      <button mat-mini-fab [routerLink]="['/add-edit-room', this.id]">
        <app-icon>{{ icon.edit }}</app-icon>
      </button>
      <div class="spacer"></div>

      <button mat-icon-button (click)="deleteRoom(this.room?.id)">
        <app-icon>{{ icon.delete }}</app-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <mat-form-field class="custom-field">
            <mat-label>New Box</mat-label>
            <app-icon matPrefix>{{ icon.box }}</app-icon>
            <input
              matInput
              [formControl]="boxNameControl"
              (keydown.enter)="addBox()"
              placeholder="Enter new Box"
            />
          </mat-form-field>
        </mat-list-item>
        @for (box of boxes().sort(sortFn); track box.name){
        <mat-list-item [routerLink]="['/box', box?.id]">
          <app-icon matListItemIcon fontSet="material-symbols-outlined">{{
            icon.box
          }}</app-icon
          >{{ box?.name }}
        </mat-list-item>
        }
        <h3 matSubheader>Freestanding Items</h3>
        <mat-list-item>
          <mat-form-field class="custom-field">
            <mat-label>New Item</mat-label>
            <app-icon matPrefix>{{ icon.item }}</app-icon>
            <input
              matInput
              [formControl]="itemNameControl"
              (keydown.enter)="addItem()"
              placeholder="Enter new Item"
            />
          </mat-form-field>
        </mat-list-item>
        @for (item of items().sort(sortFn); track item.id) {
        <mat-list-item [routerLink]="['/item', item?.id]">
          <app-icon matListItemIcon fontSet="material-symbols-outlined">{{
            icon.item
          }}</app-icon
          >{{ item?.name }}
        </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
